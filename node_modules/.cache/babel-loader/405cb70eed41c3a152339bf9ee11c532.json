{"ast":null,"code":"import _classCallCheck from\"D:\\\\Workspace\\\\React JS\\\\burger-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\Workspace\\\\React JS\\\\burger-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _createSuper from\"D:\\\\Workspace\\\\React JS\\\\burger-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import _inherits from\"D:\\\\Workspace\\\\React JS\\\\burger-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import Modal from'../../components/UI/Modal/Modal';import Aux from'../Auxx/Aux';var withErrorHandler=function withErrorHandler(WrappedComponent,axios){var _temp;return _temp=/*#__PURE__*/function(_Component){_inherits(_temp,_Component);var _super=_createSuper(_temp);function _temp(){var _this;_classCallCheck(this,_temp);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={error:null};_this.errorConfirmedHandler=function(){_this.setState({error:null});};return _this;}_createClass(_temp,[{key:\"componentWillMount\",value:function componentWillMount(){var _this2=this;this.reqInterceptors=axios.interceptors.request.use(function(req){_this2.setState({error:null});return req;});this.resInterceptors=axios.interceptors.response.use(function(response){return response;},function(error){_this2.setState({error:error});});}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){axios.interceptors.request.eject(this.reqInterceptors);axios.interceptors.response.eject(this.resInterceptors);}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(Aux,null,/*#__PURE__*/React.createElement(Modal,{show:this.state.error,modalClosed:this.errorConfirmedHandler},this.state.error?this.state.error.message:null),/*#__PURE__*/React.createElement(WrappedComponent,this.props));}}]);return _temp;}(Component),_temp;};export default withErrorHandler;","map":{"version":3,"sources":["D:/Workspace/React JS/burger-app/src/hoc/withErrorHandler/withErrorHandler.js"],"names":["React","Component","Modal","Aux","withErrorHandler","WrappedComponent","axios","state","error","errorConfirmedHandler","setState","reqInterceptors","interceptors","request","use","req","resInterceptors","response","eject","message","props"],"mappings":"4mBAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,MAAOC,CAAAA,KAAP,KAAkB,iCAAlB,CACA,MAAOC,CAAAA,GAAP,KAAgB,aAAhB,CAEA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAAEC,gBAAF,CAAoBC,KAApB,CAA8B,WACnD,mUACIC,KADJ,CACY,CACJC,KAAK,CAAG,IADJ,CADZ,OAyBIC,qBAzBJ,CAyB4B,UAAM,CAC1B,MAAKC,QAAL,CAAc,CACVF,KAAK,CAAG,IADE,CAAd,EAGH,CA7BL,gGAKyB,iBACjB,KAAKG,eAAL,CAAuBL,KAAK,CAACM,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CAA+B,SAAAC,GAAG,CAAG,CACxD,MAAI,CAACL,QAAL,CAAe,CACXF,KAAK,CAAG,IADG,CAAf,EAGA,MAAOO,CAAAA,GAAP,CACH,CALsB,CAAvB,CAOA,KAAKC,eAAL,CAAuBV,KAAK,CAACM,YAAN,CAAmBK,QAAnB,CAA4BH,GAA5B,CAAgC,SAAAG,QAAQ,QAAIA,CAAAA,QAAJ,EAAxC,CAAsD,SAAAT,KAAK,CAAI,CAClF,MAAI,CAACE,QAAL,CAAc,CACVF,KAAK,CAAGA,KADE,CAAd,EAGH,CAJsB,CAAvB,CAKH,CAlBL,mEAoB2B,CACnBF,KAAK,CAACM,YAAN,CAAmBC,OAAnB,CAA2BK,KAA3B,CAAiC,KAAKP,eAAtC,EACAL,KAAK,CAACM,YAAN,CAAmBK,QAAnB,CAA4BC,KAA5B,CAAkC,KAAKF,eAAvC,EACH,CAvBL,uCA+BY,CACJ,mBACI,oBAAC,GAAD,mBACI,oBAAC,KAAD,EACI,IAAI,CAAE,KAAKT,KAAL,CAAWC,KADrB,CAEI,WAAW,CAAE,KAAKC,qBAFtB,EAGK,KAAKF,KAAL,CAAWC,KAAX,CAAmB,KAAKD,KAAL,CAAWC,KAAX,CAAiBW,OAApC,CAA8C,IAHnD,CADJ,cAMI,oBAAC,gBAAD,CAAsB,KAAKC,KAA3B,CANJ,CADJ,CAUH,CA1CL,mBAAqBnB,SAArB,QA4CH,CA7CD,CA+CA,cAAeG,CAAAA,gBAAf","sourcesContent":["import React, {Component} from 'react'\r\nimport Modal from '../../components/UI/Modal/Modal'\r\nimport Aux from '../Auxx/Aux'\r\n\r\nconst withErrorHandler = ( WrappedComponent, axios) => {\r\n    return class extends Component {\r\n        state = {\r\n            error : null\r\n        }\r\n\r\n        componentWillMount() {\r\n            this.reqInterceptors = axios.interceptors.request.use(req=> {\r\n                this.setState ({\r\n                    error : null\r\n                })\r\n                return req;\r\n            })\r\n\r\n            this.resInterceptors = axios.interceptors.response.use(response => response, error => {\r\n                this.setState({\r\n                    error : error\r\n                })\r\n            })\r\n        }\r\n\r\n        componentWillUnmount() {\r\n            axios.interceptors.request.eject(this.reqInterceptors);\r\n            axios.interceptors.response.eject(this.resInterceptors);\r\n        }\r\n\r\n        errorConfirmedHandler = () => {\r\n            this.setState({\r\n                error : null\r\n            })\r\n        }\r\n\r\n        render(){\r\n            return (\r\n                <Aux>\r\n                    <Modal \r\n                        show={this.state.error}\r\n                        modalClosed={this.errorConfirmedHandler}>\r\n                        {this.state.error ? this.state.error.message : null}\r\n                    </Modal>\r\n                    <WrappedComponent {...this.props}></WrappedComponent>\r\n                </Aux>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default withErrorHandler;"]},"metadata":{},"sourceType":"module"}